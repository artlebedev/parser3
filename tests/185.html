@main[]
$request:charset[UTF-8]
$response:charset[UTF-8]
$response:content-type[
	$.value[text/html]
	$.charset[$response:charset]
]

$str[ab^taint["]"cd^taint[xml][&]&ef]
<pre>^$str[$str] [^str.length[]]</pre>

^^str.left(4): ^left[$str](4)<br />
^^str.left(9): ^left[$str](9)<br />
^^str.right(4): ^right[$str](4)<br />
^^str.right(9): ^right[$str](9)<br />
^^str.mid(1;8): ^mid[$str](1;8)<br />

<hr />
$str[о сколько нам открытий чудных...10.11.2005]
$length(^str.length[]) ^rem{ *** length in real chars (not in bytes) == 42 *** }

<pre>^taint[as-is][
^$str[$str] [^str.length[]]
     <b>0</b>123456789<b>0</b>123456789<b>0</b>123456789<b>0</b>123456789<b>0</b>123456789
]</pre>

^pos[$str;о]
^pos[$str; ]
^pos[$str;чудных]
^pos[$str;2005]
^pos[$str;zzz]

<br />
<table border="1">
	<tr>
		<td>L</td>
		<td>^^str.left(L) [^^substr.length[]]</tr>
		<td>R</td>
		<td>^^str.right(R) [^^substr.length[]]</tr>
		<td>N, O</td>
		<td>^^str.mid(N;O)</tr>
	</tr>
^for[i](0;$length\2+1){
	<tr>
		$iLeft($i*2+$i%2)
		<td>$iLeft</td>
		<td>^left[$str]($iLeft)</td>
		
		$iRight($i*2+($i+1)%2)
		<td>$iRight</td>
		<td>^right[$str]($iRight)</td>

		$iMid($i*2)
		$iLength(^if($i%2)(3;4))
		<td>$iMid, $iLength</td>
		<td>^mid[$str]($iMid;$iLength)</td>
	</tr>
}
</table>



@left[str;num][substr]
$substr[^str.left($num)]
'$substr' [^substr.length[]]



@right[str;num][substr]
$substr[^str.right($num)]
'$substr' [^substr.length[]]



@mid[str;num;count]
'^str.mid($num;$count)'



@pos[str;substr]
^^str.pos[$substr]: ^str.pos[$substr]<br />
