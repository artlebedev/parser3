@auto[filespec]
$selffilespec[$filespec]


@main[]
$tRepl[^table::create[nameless]{$request:document-root	^$request:document-root}]

^do[]
^do[$selffilespec]
^do[/a/some.tar.gz]
^do[/a///some.tar.gz]
^do[/a/b///]
^do[/a/b///c//]
^do[/a/b/]
^do[/a/b]
^do[/a/]
^do[/a]
^do[/]
^do[///]
^do[a///]
^do[/a/file]
^do[/a/dir.zz/file.html]
^do[file]
^do[/a/dir.zz/file]
^do[C:\temp\file.txt]
^do[C:\file.txt]
# slashes mixes
^do[C:\temp/file.txt]
^do[C:/temp\file.txt]


@do[sFileSpec]
src=^printFS[$sFileSpec]<br />
dirname=^printFS[^file:dirname[$sFileSpec]]<br />
basename=^file:basename[$sFileSpec]<br />
justname=^file:justname[$sFileSpec]<br />
justext=^file:justext[$sFileSpec]
<hr />


@printFS[sFileSpec]
$result[^sFileSpec.replace[$tRepl]]
